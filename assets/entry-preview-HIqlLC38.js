import{y as l,a3 as h,i as w,q as N,p as d}from"./vue.esm-bundler-FW-u_CMv.js";var v=Object.defineProperty,I=(e,r)=>{for(var t in r)v(e,t,{get:r[t],enumerable:!0})};const{sanitizeStoryContextUpdate:j}=__STORYBOOK_MODULE_PREVIEW_API__;var A={};I(A,{applyDecorators:()=>b,mount:()=>P,parameters:()=>U,render:()=>O,renderToCanvas:()=>m});var O=(e,r)=>{let{id:t,component:o}=r;if(!o)throw new Error(`Unable to render story ${t} as the component annotation is missing from the default export`);return()=>l(o,e,F(e,r))},z=e=>{globalThis.PLUGINS_SETUP_FUNCTIONS??=new Set,globalThis.PLUGINS_SETUP_FUNCTIONS.add(e)},E=async(e,r)=>{globalThis&&globalThis.PLUGINS_SETUP_FUNCTIONS&&await Promise.all([...globalThis.PLUGINS_SETUP_FUNCTIONS].map(t=>t(e,r)))},g=new Map;async function m({storyFn:e,forceRemount:r,showMain:t,showException:o,storyContext:a,id:n},s){let p=g.get(s);if(p&&!r){let u=e(),c=y(u,a);return C(p.reactiveArgs,c),()=>{_(p.vueApp,s)}}p&&r&&_(p.vueApp,s);let i=h({setup(){a.args=d(a.args);let u=e(),c=y(u,a),f={vueApp:i,reactiveArgs:d(c)};return g.set(s,f),()=>l(u)}});return i.config.errorHandler=(u,c,f)=>{window.__STORYBOOK_PREVIEW__?.storyRenders.some(S=>S.id===n&&S.phase==="playing")?setTimeout(()=>{throw u},0):o(u)},await E(i,a),i.mount(s),t(),()=>{_(i,s)}}function F(e,r){let{argTypes:t}=r,o=Object.entries(e).filter(([a])=>t[a]?.table?.category==="slots").map(([a,n])=>[a,typeof n=="function"?n:()=>n]);return Object.fromEntries(o)}function y(e,r){return e.props&&w(e)?e.props:r.args}function C(e,r){if(Object.keys(r).length===0)return;let t=N(e)?e:d(e);Object.keys(t).forEach(o=>{o in r||delete t[o]}),Object.assign(t,r)}function _(e,r){e?.unmount(),g.has(r)&&g.delete(r)}function L(e){return typeof e=="function"?{render:e,name:e.name}:e}function T(e,r){let t=e;return t===null?null:typeof t=="function"?t:r?{...L(t),components:{...t.components||{},story:r}}:{render(){return l(t)}}}function b(e,r){return r.reduce((t,o)=>a=>{let n,s=o(p=>{let i=j(p);return p&&(i.args=Object.assign(a.args,i.args)),n=t({...a,...i}),n},a);return n||(n=t(a)),s===n?n:T(s,()=>l(n))},t=>T(e(t)))}var P=e=>async(r,t)=>(r&&(e.originalStoryFn=()=>()=>l(r,t?.props,t?.slots)),await e.renderToCanvas(),e.canvas),U={renderer:"vue3"};const G=Object.freeze(Object.defineProperty({__proto__:null,applyDecorators:b,mount:P,parameters:U,render:O,renderToCanvas:m},Symbol.toStringTag,{value:"Module"}));export{G as a,A as e,m as r,z as s};
