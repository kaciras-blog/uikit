import{f as t,h as i,j as P,z as v,n as l,u as b,J as f,Y as m,R as d,U as h,r as w,H as N,V as k,C as M,a0 as x,a1 as E,l as I}from"./vue.esm-bundler-FW-u_CMv.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{K as S}from"./autofocus-C8NzL-9U.js";import{K as y}from"./KxButton-BYZx_vn4.js";class V{raw;constructor(e){this.raw=e}get[Symbol.toStringTag](){return"PromiseDelegate"}then(e,n){return this.raw.then(e,n)}catch(e){return this.raw.catch(e)}finally(e){return this.raw.finally(e)}}var o=(s=>(s[s.Info=0]="Info",s[s.Success=1]="Success",s[s.Warning=2]="Warning",s[s.Error=3]="Error",s))(o||{});class c{data;isConfirm;constructor(e,n){this.data=e,this.isConfirm=n}static CANCELED=new c(void 0,!1);static confirm(e){return new c(e,!0)}}class A extends V{constructor(e){super(e)}onConfirm(e){return this.raw.then(n=>{n.isConfirm&&e(n.data)}),this}onCancel(e){return this.raw.then(n=>{n.isConfirm||e()}),this}get confirmPromise(){return new Promise(e=>this.onConfirm(e))}}class R{mountPoint;constructor(){this.close=this.close.bind(this),this.confirm=this.confirm.bind(this)}connect(e){this.mountPoint=e}disconnect(e){this.mountPoint===e&&(this.mountPoint=void 0)}show(e,n){const u=new Promise(r=>{this.mountPoint.push({component:e,props:n,resolve:r})});return new A(u)}clear(){this.mountPoint.clear()}confirm(e){this.close(c.confirm(e))}close(e=c.CANCELED){this.mountPoint.close(e)}}class W{mountPoint;show(e){this.mountPoint.push(e)}info(e){this.show({type:0,content:e})}success(e){this.show({type:1,content:e})}warning(e){this.show({type:2,content:e})}error(e){this.show({type:3,content:e})}}const F={},O={width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"};function z(s,e){return t(),i("svg",O,e[0]||(e[0]=[P("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},null,-1)]))}const j=g(F,[["render",z]]),q=v({__name:"DialogIcons",props:{type:{}},setup(s){return(e,n)=>(t(),i("div",{class:l(["kx-dialog-icon",e.$style[b(o)[e.type]]])},null,2))}}),J="UzjVC",L="avTJK",Q="VkBFz",U={Error:"_9v01S",Warning:J,Info:L,Success:Q},Z={$style:U},H=g(q,[["__cssModules",Z]]);q.__docgenInfo={exportName:"default",displayName:"DialogIcons",type:1,props:[{name:"type",global:!1,description:"",tags:[],required:!0,type:"MessageType",declarations:[],schema:{kind:"enum",type:"MessageType",schema:["MessageType.Info","MessageType.Success","MessageType.Warning","MessageType.Error"]}},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey | undefined",declarations:[],schema:{kind:"enum",type:"PropertyKey | undefined",schema:["undefined","string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef | undefined",declarations:[],schema:{kind:"enum",type:"VNodeRef | undefined",schema:["undefined","string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any> | null, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string | undefined",declarations:[],schema:{kind:"enum",type:"string | undefined",schema:["undefined","string"]}},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"type",type:"MessageType",description:"",declarations:[],schema:{kind:"enum",type:"MessageType",schema:["MessageType.Info","MessageType.Success","MessageType.Warning","MessageType.Error"]}}],sourceFiles:"/home/runner/work/uikit/uikit/src/dialog/DialogIcons.vue"};const T=v({__name:"KxDialogButtons",props:{acceptable:{type:Boolean,default:!0},onCancel:{type:[Boolean,Function]},onApply:{type:[Boolean,Function]},onAccept:{type:[Boolean,Function]}},setup(s){return(e,n)=>(t(),i("div",{class:l(["btn-group",e.$style.container])},[e.onCancel?(t(),f(y,{key:0,color:"second",onClick:e.onCancel},{default:m(()=>n[0]||(n[0]=[h(" 取消 ")])),_:1},8,["onClick"])):d("",!0),e.onAccept?(t(),f(y,{key:1,disabled:!e.acceptable,onClick:e.onAccept},{default:m(()=>n[1]||(n[1]=[h(" 确定 ")])),_:1},8,["disabled","onClick"])):d("",!0),e.onApply?(t(),f(y,{key:2,disabled:!e.acceptable,onClick:e.onApply},{default:m(()=>n[2]||(n[2]=[h(" 应用 ")])),_:1},8,["disabled","onClick"])):d("",!0)],2))}}),Y="RIi-k",G={container:Y},X={$style:G},ee=g(T,[["__cssModules",X]]);T.__docgenInfo={exportName:"default",displayName:"KxDialogButtons",type:1,props:[{name:"acceptable",global:!1,description:"确定和应用按钮是否禁用",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]},default:"true"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey | undefined",declarations:[],schema:{kind:"enum",type:"PropertyKey | undefined",schema:["undefined","string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef | undefined",declarations:[],schema:{kind:"enum",type:"VNodeRef | undefined",schema:["undefined","string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any> | null, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string | undefined",declarations:[],schema:{kind:"enum",type:"string | undefined",schema:["undefined","string"]}},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"acceptable",type:"boolean",description:"确定和应用按钮是否禁用",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"onCancel",type:"false | (() => void) | undefined",description:`各个按钮的事件，false 则等效于不设置。

这些属性可以用 v-on，但要注意其与 v-bind 对表达式的计算处理不同。`,declarations:[],schema:{kind:"enum",type:"false | (() => void) | undefined",schema:["undefined","false",{kind:"event",type:"(): void"}]}},{name:"onApply",type:"false | (() => void) | undefined",description:"",declarations:[],schema:{kind:"enum",type:"false | (() => void) | undefined",schema:["undefined","false",{kind:"event",type:"(): void"}]}},{name:"onAccept",type:"false | (() => void) | undefined",description:"",declarations:[],schema:{kind:"enum",type:"false | (() => void) | undefined",schema:["undefined","false",{kind:"event",type:"(): void"}]}}],sourceFiles:"/home/runner/work/uikit/uikit/src/dialog/KxDialogButtons.vue"};const _=v({__name:"KxMessageBox",props:{title:{},type:{},content:{},cancelable:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},setup(s){const e=s,n=re(),u=w(!0),r=w(!1),p=()=>n.close(),D=()=>n.confirm();function $(){if(e.closable)p();else return u.value=!1,r.value=!0,setTimeout(()=>r.value=!1,300)}return(a,C)=>(t(),i("div",{class:"dialog-backdrop full-vertex",onClick:x($,["self"]),onKeyup:C[0]||(C[0]=E(le=>a.closable&&p,["esc"]))},[N((t(),i("div",{class:l(["kx-msgbox",{shaking:r.value,dialogZoomIn:u.value}]),tabindex:"-1",role:"dialog","aria-modal":"true"},[a.closable?(t(),f(y,{key:0,type:"icon",class:l(a.$style.closeIcon),title:"关闭",onClick:p},{default:m(()=>[k(b(j))]),_:1},8,["class"])):d("",!0),k(H,{type:a.type},null,8,["type"]),P("h2",null,M(a.title),1),a.content?(t(),i("pre",{key:1,class:l(a.$style.content)},M(a.content),3)):d("",!0),k(ee,{"on-accept":D,"on-cancel":a.cancelable&&p},null,8,["on-cancel"])],2)),[[b(S)]])],32))}}),ne="_-3yaJ",se="uLgK3",te={closeIcon:ne,content:se},ae={$style:te},oe=g(_,[["__cssModules",ae]]);_.__docgenInfo={exportName:"default",displayName:"KxMessageBox",type:1,props:[{name:"title",global:!1,description:"",tags:[],required:!0,type:"string",declarations:[],schema:"string"},{name:"type",global:!1,description:"",tags:[],required:!0,type:"MessageType",declarations:[],schema:{kind:"enum",type:"MessageType",schema:["MessageType.Info","MessageType.Success","MessageType.Warning","MessageType.Error"]}},{name:"content",global:!1,description:`消息框的内容，可以用换行符\\n来换行，在超出宽度也会时自动换行。
【更新】取消了数组方式的换行，因为可以用Vue的过滤器完成，或是应该自行处理。`,tags:[],required:!1,type:"string | undefined",declarations:[],schema:{kind:"enum",type:"string | undefined",schema:["undefined","string"]}},{name:"cancelable",global:!1,description:"是否显示取消按钮。",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]},default:"false"},{name:"closable",global:!1,description:"如果为 false 则强制必须点击底部的按钮关闭，点击遮罩会震动。",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]},default:"true"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey | undefined",declarations:[],schema:{kind:"enum",type:"PropertyKey | undefined",schema:["undefined","string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef | undefined",declarations:[],schema:{kind:"enum",type:"VNodeRef | undefined",schema:["undefined","string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any> | null, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean | undefined",declarations:[],schema:{kind:"enum",type:"boolean | undefined",schema:["undefined","false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string | undefined",declarations:[],schema:{kind:"enum",type:"string | undefined",schema:["undefined","string"]}},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"cancelable",type:"boolean",description:"是否显示取消按钮。",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"closable",type:"boolean",description:"如果为 false 则强制必须点击底部的按钮关闭，点击遮罩会震动。",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"type",type:"MessageType",description:"",declarations:[],schema:{kind:"enum",type:"MessageType",schema:["MessageType.Info","MessageType.Success","MessageType.Warning","MessageType.Error"]}},{name:"title",type:"string",description:"",declarations:[],schema:"string"},{name:"content",type:"string | undefined",description:`消息框的内容，可以用换行符\\n来换行，在超出宽度也会时自动换行。
【更新】取消了数组方式的换行，因为可以用Vue的过滤器完成，或是应该自行处理。`,declarations:[],schema:{kind:"enum",type:"string | undefined",schema:["undefined","string"]}}],sourceFiles:"/home/runner/work/uikit/uikit/src/dialog/KxMessageBox.vue"};const B=Symbol("Dialog"),K=Symbol("Toast");class ie extends R{alert(e){return this.show(oe,e)}alertInfo(e,n){return this.alert({title:e,content:n,type:o.Info})}alertWarning(e,n){return this.alert({title:e,content:n,type:o.Warning})}alertError(e,n){return this.alert({title:e,content:n,type:o.Error})}alertSuccess(e="执行成功",n){return this.alert({title:e,content:n,type:o.Success})}}function re(){return I(B)}function fe(){return I(K)}function me(s){const e=new ie,n=new W;s.provide(B,e),s.provide(K,n),s.config.globalProperties.$dialog=e,s.config.globalProperties.$toast=n}export{j as C,c as D,oe as K,o as M,me as Q,ee as a,fe as b,re as u};
